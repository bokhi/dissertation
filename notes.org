* Dimensionality Reduction Methods

** Principal Component Analysis
*** Type of method
    PCA is a linear unsupervised global dimensionality reduction method

*** Principles
    PCA can be mathematically defined as an orthogonal linear
    transformation that transforms the data to a new coordinate system
    such that the greatest variance by any projection of the data
    comes to lie on the first coordinate, the second greatest variance
    on the second coordinate, and so on. The set of observations is
    projected into a subspace of linearly uncorrelated variables
    called principal components. The new orthonormal basis of
    principal components is constructed to maximise the variance of
    the data-set in a way that the projection of the data on the first
    principal component has the largest possible variance, and each
    succeeding component in turn has the highest variance possible
    under the constraint that it be orthogonal to the preceding
    components.  Equivalently, it can be defined as the linear
    projection that minimises the average projection cost, defined as
    the mean squared distance between the data points and their
    projections.
    

*** Applications
    This method can be though of as revealing the internal structure
    of the data in a way which best explains the variance in the
    data. Thus, PCA can be used for dimensionality reduction, data
    visualisation by projecting on two or three principal components,
    lossy data compression, feature extraction

*** Hypotheses
    PCA is sensitive to the relative scaling of the original
    variables. Therefore, the data should be mean centred as well as
    standardised in order to scale the data. However, even if
    multivariate normality is supposed, this is not a critical
    assumption. Better results are obtained for continuous and
    normally distributed data

** Linear Determinant Analysis
*** Type of Method
    LDA is a linear supervised global dimensionality reduction mostly used for classification
*** Principles
    LDA is closely related to principal component analysis in that
    they both look for linear combinations of variables which best
    explain the data. However, whereas PCA rely solely on maximising
    the total variance, LDA makes use of the labelled data-set to
    control the difference between inner-class variance and
    between-class variance and attempt to minimise the former and
    maximise the latter. Therefore LDA seeks to reduce dimensionality
    while preserving as much of the class discriminatory information
    as possible
*** Applications
    LDA is used to reduce the number of features to a more manageable number before classification. 
*** Hypotheses
    Usually the classes are assumed to be normally distributed
    (unimodal Gaussian likelihoods), if the distributions are
    significantly non-Gaussian, the LDA projections may not preserve
    complex structure in the data needed for classification.  LDA also
    produces at most C - 1 future projections where C is not number
    of classes composing the data.  LDA will also fail if
    discriminatory information is not in the mean but in the variance
    of the data
    
** ISOMap
*** Type of Method
    ISOMap is a non-linear unsupervised global distance metric learning method
*** Principles
    ISOMap is a manifold learning technique aimed at identifying the
    geodesic distance along the low-dimensional manifold. In effect,
    points far part on the underlying manifold, as measured by their
    geodesic distances, may appear deceptively close in the
    high-dimensional input space, as measured by their straight-line
    Euclidean distance. ISOMap extends metric multidimensional scaling
    by incorporating an approximation of the geodesic distances by
    constructing a weighted graph based on a proximity measure such as
    nearest k Euclidean neighbours in the high-dimensional space. Once
    the graph as been contracted, the remaining distances are
    approximated using a shortest-path algorithm, the new-found
    distance matrix is then used conjointly with MDS in order to
    exhibit the low-dimensional embedding.
*** Applications
    As many non-linear unsupervised methods, ISOMap can be seen as a
    distance metric learning process but also as a dimensionality
    reduction method
*** Hypotheses

** Multidimensional Scaling
*** Type of method
    As PCA, MDS is a linear unsupervised global dimensionality reduction method

*** Principles
    MDS find a projection that best preserves the inter-point distance (dissimilarity) given by the pairwise distance matrix of the data-set.

*** Applications
    MDS is usually used for information visualisation by representing the data in a two and three dimensional space. 

*** Hypotheses
    Only the distance matrix is needed for Classical MDS



** Laplacian Eigenmaps
*** Type of Method
*** Principles
*** Applications
*** Hypotheses

** Locally Linear Embedding
*** Type of Method
*** Principles
*** Applications
*** TODO Hypotheses


* <2012-07-03 Tue 11:07>
** Tasks
*** DONE review initial papers
    CLOSED: [2012-07-03 Tue 15:49]
*** DONE select new papers to study
    CLOSED: [2012-07-03 Tue 19:37]
*** TODO implement algorithms

** review
*** Labeled Faces in the Wild   
    [[file:papers/labeled_faces_in_the_wild.pdf][file:~/Exeter/dissertation/papers/labeled_faces_in_the_wild.pdf]]
    The database is aimed at studying the unseen pair match problem, differentiating any two individuals that have never been seen before :
    - no images of test subjects are available at training time
    - the decisions far all test pairs are made independently

    A training, validation and testing methodology has been provided
    by the authors.  Two views are used rather than a more traditional
    approach. The first view composed of 1100 pairs of matched and
    unmatched images for training and 500 pairs for testing can be
    used without restriction in order to compare as many models, with
    as many parameters settings as desired, and evaluate their
    performances. Once the best model has been retained, the second
    view is used to assess the accuracy on 10 separate experiments in
    a leave-one-out cross validation scheme. Estimated mean accuracy
    and standard error of the mean are then reported

    As far as the training phase is concerned, two different paradigms
    can be used : restricted and unrestricted settings. The former
    does not take the labelling of images into account in order to
    construct new pairs by transitivity. The latter classify the images
    by name, and thus training pairs can be constructed by selecting
    specific images from certain people. The unrestricted paradigm can
    be used if the algorithm developed could benefit from a more
    extensive training set.

*** Eigenfaces vs. Fisherfaces
    [[file:papers/eigenfaces_vs_fisherfaces.pdf][file:~/Exeter/dissertation/papers/eigenfaces_vs_fisherfaces.pdf]]
    
    In this paper, the problem of face recognition under large
    variations in lightning and facial expressions is studied. This is
    done by considering that the faces as Lambertian surface and thus
    being part of a 3D linear subspace of the high-dimensional image
    space.

    Fisherfaces, a supervised linear method based on a Linear
    Discriminant Analysis approach is used to build a model
    insensitive to such variations by maximising the ratio of
    between-class scatter to that of within-class scatter
    
    PCA can be used to reduce the dimensionality to an arbitrary
    number of features. However, LDA is limited by the number of
    classes present as the rank of the within-class scatter matrix is
    at most N - c where N is the number of images and c the number of
    classes when the number of samples N is less than the image
    dimensionality n. A solution to the small sample size problem is
    to first project the image set to a lower dimensional space in
    order to obtain a non singular matrix. This is achieved by
    reducing to N - c using PCA and then to c - 1 using LDA criterion.
    Additional techniques can be found in
    [[file:papers/small_sample_size_problem.pdf][file:~/Exeter/dissertation/papers/small_sample_size_problem.pdf]]

*** Distance Metric Learning
    [[file:papers/distance_metric_learning.pdf][file:~/Exeter/dissertation/papers/distance_metric_learning.pdf]]

    Unsupervised Distance Metric Learning or Manifold Learning

    Distance metric learning and dimensionality reduction techniques
    are closely linked. Every dimension reduction approach is
    essentially to learn a distance metric without label information.

** new papers
*** out-of-sample extensions

    Only parametric dimensionality reduction techniques, i.e.,
    techniques that learn an explicit function between the data space
    and the low-dimensional latent space, support exact out-of-sample
    extension. All linear techniques (PCA, LDA, NCA, MCML, LPP, and
    NPE) support exact out-of-sample extension, and autoencoders do
    too. Spectral techniques such as Isomap, LLE, and Laplacian
    Eigenmaps support out-of-sample extensions via the Nystr√∂m
    approximation.
    
    [[file:papers/out_of_sample_extensions.pdf][file:~/Exeter/dissertation/papers/out_of_sample_extensions.pdf]]
    Eigendecomposition-based dimension reduction methods providing an
    embedding for given training points have no straightforward
    extention for out-of-rample examples short of recomputing
    eigen-vectors. In this paper several of these unsupervised
    learning algorithms (LLE, Isomap, MDS, Eigenmaps, and Spectral
    Clustering) are extended by the use of a unified framework in
    which these algorithms are seen as learning eigenfunctions of a
    kernel.

    

*** Eigenproblems in pattern recognition
    [[file:papers/eigenproblems_in_pattern_recognition.pdf][file:~/Exeter/dissertation/papers/eigenproblems_in_pattern_recognition.pdf]]


* <2012-07-04 Wed>

** new papers
*** Algorithms for manifold learning
    [[file:papers/algorithms_for_manifold_learning.pdf][file:~/Exeter/dissertation/papers/algorithms_for_manifold_learning.pdf]]

    The dimensionality of the data set is artificially high, some
    features could even be irrelevant or even misleading. Algorithms,
    such as global optimisations, can be speed up by reducing the
    number of features. Manifold learning is based on the assumption
    that the data lies along a low-dimensional manifold embedded in a
    high-dimensional space.

    


* <2012-07-11 Wed>

** tasks 
*** TODO prepare presentation
*** TODO review mathematical part
*** TODO EigenFaces & Fisherfaces experiments
*** DONE review articles
    CLOSED: [2012-07-11 Wed 14:42]
*** TODO test framework

** review
*** The out-of-sample problem for CMDS
    CLOCK: [2012-07-11 Wed 13:19]--[2012-07-11 Wed 13:59] =>  0:40
    
    [[file:papers/out_of_sample_mds.pdf][file:~/Exeter/dissertation/papers/out_of_sample_mds.pdf]]

** presentation
*** plan
**** Dimensionality recognition for face recognition

* <2012-07-12 Thu>

** tasks
*** TODO write a paragraph about each methods
      - mathematical background
      - parameters
      - complexity
      - underlying hypotheses about the data


* <2012-07-17 Tue>
** Tasks
*** DONE Write a paragraph about each methods
    CLOSED: [2012-07-18 Wed 08:27]
    - introduction/goal of the method
    - instructions
    - mathematical explanation
    - underlying hypotheses
    - time and space complexity
    - graph/experiment (linear and non-linear)
    - comparison with other methods
    - references to specific papers
*** TODO write about the out-of-sample problem
*** DONE understanding LFW experimental methodology
    CLOSED: [2012-07-18 Wed 12:03]
*** DONE read Yiming source-code and add comments
    CLOSED: [2012-07-18 Wed 13:57]
*** TODO prepare simple experiments with the data
    - read the raw data and sift feature files
    - perform pca reduction and other reduction methods (think of applying LDA to the restricted setting)
    - represent the data as a graph
** experimental methodology
   The dataset is organised in two views. View 1 is for algorithm
   development and model selection. View 2 is for formal experiment
   and performance reporting

*** View 1
    The training set (pairsDevTrain.txt) consists of 1100 pairs of
    matched images and 1100 pairs of mismatched images. The test set
    (pairsDevTest.txt) consists of 500 pairs of matched and 500 of
    mismatched images.

*** View 2
    The second view of the data is composed of ten subsets of the
    database (pairs.txt). The performance of the classifier previously selected is
    evaluated on 10 separate experiments in a leave-one-out cross
    validation scheme, were nine of the subsets are successively
    combined using the 10th subset for testing.

*** Files Format
**** pairsDevTrain.txt
     1100 #number of matched pairs
     Aaron_Peirsol	1	2 #example of matched pair
     ... #rest of the matched pairs
     Wendy_Kennedy	1	Zara_Akhmadova	1 #example of dismatched pair
     ... #same number of matched pairs

**** pairsDevTest.txt     
     same format as pairsDevTrain.txt except that the number of
     matched pairs is 500.

**** pairs.txt
     10	300 #number of folds, number of matched and dismatched pairs per foldn
     Abel_Pacheco	1	4

**** SIFTPairF1.mat
     contains :
     -Data    10800x300 nSample x nFeature matrix   -   Training data
     -DD      2700x2    nPair x 2 matrix            -   Dissimilarity pairs  
     -SS      2700x2    nPair x 2 matrix            -   Similarity pairs
     -DataTT1 300x600   nFeature x nSample matrix   -   Testing data image 1 (1-300 positive 301-600 negative)
     -DataTT2 300x600   nFeature x nSample matrix   -   Testing data image 2

     Data 1:2700 first training data of positive class
     Data 27001:5400 second training data of positive class
     Data 5401:8100 first training data of negative class
     Data 8101:10800 second training data of negative class

     DataTT1 1:300 first testing data of positive class
     DataTT1 301:600 first testing data of negative class

     DataTT2 1:300 second testing data of positive class
     DataTT2 301:600 second testing data of negative class
     
     DD and SS is the combination of the 9 remaining subsets
     (300x9=2700) and denotes the indices of pairs to use to train the
     selected classifier relatively to the datapoints contained in
     Data.

** Matlab Code
*** CV_Train_Both_R_SIFT.m
    Train both DML and ITML for each of the SS and DD fold of the
    View2 of the data

    For each fold, the model optimal parameter selection is first
    performed via 3-cross validation, then the model is trained using
    this optimal parameter and saved.

    The datapoints features have already been reduced by PCA and only
    the first 35 features are used for training.

*** CV_Test_Both_R_SIFT.m
    

* <2012-07-20 Fri>
** Tasks
*** write script to obtain sift features
*** write script to build view1 and view2
*** test different reduction methods
*** evaluate time complexity
*** integrate with current programm
*** set up git repo
*** test out-of-sample extension
*** reflect upon LDA

** classification methodology
   Constitute a training and testing set. The training set will be
   constituted of pairs of similar and dissimilar images and therefore
   can be seperated into four distinct sets.

   Then a dimension reduction technique is performed based on the
   vectors of the training set. 

   The model is then trained using a distance metric learning
   approach. The distance between two vectors is computed and the
   classification threshold is defined such as maximising the accuracy
   for the training test. 

   Once all the parameters of the model are fixed, the out-of-sample
   extension of the dimension reduction technique is used to
   extrapolate the low-dimensional features of the testing set.

* <2012-07-23 Mon>
** experiment
   Run the script [[file:experiment/dimension_reduction.m][dimension_reduction.m]]
   dimension reduction 3456 features -> 300
   - PCA 290.28 seconds
   - ISOMAP 17270 seconds
   - LLE 482.26 seconds
   - Laplacian 1693.9 secondsx
* <2012-07-25 Wed>
  It is unrealistic to assume that the face manifold is well modeled
  by a linear subspace. It is also unlikely that the noise
  distribution is identical at each point in space.

* <2012-07-26 Thu>
** Tasks
*** DONE run [[file:experiment/yiming/verification_ml_test.m][verification_ml_test.m]] with Euclidean distance
    CLOSED: [2012-07-27 Fri 19:04]
*** DONE convert script to matlab
    CLOSED: [2012-07-27 Fri 19:04]
*** DONE synchronised linux cluster and local folders
    CLOSED: [2012-07-27 Fri 19:04]
*** DONE find command to run distant jobs
    CLOSED: [2012-07-27 Fri 14:23]
*** DONE compute dimensionality reductions
    CLOSED: [2012-08-07 Tue 15:54]
*** TODO trace accuracy/dimension and ROC diagrams
*** DONE implement LDA reduction
    CLOSED: [2012-08-07 Tue 15:54]

** Accuracy
   |          | SIFT-3456 | PCA-300 |   M_LDA |
   | accuracy |   0.66800 | 0.67900 | 0.56000 |
   | time     |           |         |  2.6911 |


** Observations
*** Non connected neighbourhood graphs
   Manifold learning techniques using a neighbourhood graph require a
   uniformaly distributed and well sampled data.

   It appears that the graph generated by LLE for the default
   parameters is not connected and therefore that some points are
   discarded while computing the low embedding.

   Solutions could be to generated a connected neighourhood graph
   ([[file:papers/building_connected_neighborhood_graphs_for_lle.PDF][building_connected_neighborhood_graphs_for_lle.PDF]]), find the
   right parameters, make use of the out-of-sample extension.

   This issue is reported in the drtoolbox FAQ:
   
     "Next to reducing the dimensionality of my data,
     Isomap/LLE/Laplacian Eigenmaps/LTSA also reduced the number of
     data points? Where did these points go?  You may observe this
     behavior in most techniques that are based on neighborhood
     graphs. Isomap/LLE/Laplacian Eigenmaps/LTSA can only embed data
     that gives rise to a connected neighborhood graph. If the
     neighborhood graph is not connected, the implementations only
     embed the largest connected component of the neighborhood
     graph. You can obtain the indices of the embedded data points
     from mapping.conn_comp (which you can get from the
     compute_mapping function). If you really need to have al your
     data points embedded, don‚Äôt use a manifold learner."
*** Reduction for different a different number of dimensions
    Can the reduction be computed once for all, and the desired number
    of features for the datavectors extrapolated from the result of
    the mapping?

    Dimensionality reduction techniques that make use of an
    eigen-decomposition relate the embedded dimension to the number of
    eigenvectors computed. Therefore by calculating all the
    eigenvectors, several dimensions of the embedding could be
    generated from a single eigen-analysis.

* <2012-07-31 Tue>
** Tasks
*** DONE compute accuracy for PCA and SIFT features
    CLOSED: [2012-08-07 Tue 15:54]
*** DONE reduce dimension for 300-PCA
    CLOSED: [2012-08-07 Tue 15:54]

* <2012-08-01 Wed>
** Tasks
*** DONE Implement MDS reduction
    CLOSED: [2012-08-05 Sun 17:27]
    MDS and PCA are equivalent 
*** DONE Implement LDA reduction
    CLOSED: [2012-08-05 Sun 17:27]
*** TODO accuracy and ROC diagram
*** DONE normalise SIFT dataset
    CLOSED: [2012-08-02 Thu 18:08] The data are standardised,
    therefore assumed to be related to a gaussian distribution
*** TODO investigate connected components
*** DONE render out-of-sample C matrix non-singular
    CLOSED: [2012-08-07 Tue 15:53]
    
* <2012-08-07 Tue>
** Tasks
*** DONE analyse the results of the experiment
    CLOSED: [2012-08-10 Fri 20:52]
*** DONE trace diagrams
    CLOSED: [2012-08-10 Fri 20:52]
*** DONE fix failed experiments
    CLOSED: [2012-08-10 Fri 20:52]

** Experiments
***  
| id | file                            | fail | best accuracy | dimension | reduction time | wallclock time |
|----+---------------------------------+------+---------------+-----------+----------------+----------------|
|  1 | PCA-3000_view1.mat              |      |        0.6910 |       125 |     386.447100 |       04:05:00 |
|  2 | LLE-3000_view1.mat              |      |       0.49300 |         1 |    1630.722747 |       04:27:28 |
|  3 | Laplacian-3000_view1.mat        |      |       0.50000 |         1 |    4008.473076 |       10:00:56 |
|  4 | Isomap-3000_view1.mat           |      |       0.60100 |       184 |    1607.231163 |       04:32:17 |
|  5 | PCA-3000_s_view1.mat            |      |       0.57800 |        51 |     392.492133 |       04:06:05 |
|  6 |                                 | X    |               |           |                |       00:04:11 |
|  7 |                                 | X    |               |           |                |       00:02:14 |
|  8 |                                 | X    |               |           |    1044.003716 |       00:17:40 |
|  9 | PCA-250_PCA-300_view1.mat       |      |       0.69100 |       125 |       1.085379 |       00:06:06 |
| 10 | LLE-250_PCA-300_view1.mat       |      |       0.49500 |         1 |     199.411542 |       00:09:42 |
| 11 | Laplacian-250_PCA-300_view1.mat |      |       0.50100 |        37 |     138.775787 |                |
| 12 | Isomap-250_PCA-300_view1.mat    |      |       0.60700 |       103 |     401.509205 |       00:13:19 |
| 13 | LDA_view1.mat                   |      |        0.5460 |         1 |    6792.695376 |       01:53:22 |
| 14 | LDA_s_view1.mat                 |      |       0.50300 |         1 |    1604.669209 |                |
| 15 | LDA_PCA-300_view1.mat           |      |       0.56800 |         1 |       1.153220 |       00:00:07 |

*** errors
**** PCA
     no error
**** LLE
***** view1
Matrix is singular or close to singular for reduction and out-of-sample

{^HWarning: Matrix is singular to working precision.}^H
{^H> In lle at 83
  In compute_mapping at 202
  In dimension_reduction at 11
  In sge_experiment at 21}^H

{^HWarning: Matrix is singular to working precision.}^H
{^H> In out_of_sample at 111
  In dimension_reduction at 28
  In sge_experiment at 21}^H
***** s_view1

File Edit Options Buffers Tools Help                                                                                                                                      
{^HError using eigs/checkInputs (line 571)
Number of eigenvalues requested, k, must be a positive integer <= n.

Error in eigs (line 94)
[A,Amatrix,isrealprob,issymA,n,B,classAB,k,eigs_sigma,whch, ...

Error in lle (line 117)
        [mappedX, eigenvals] = eigs(M + eps * eye(n), no_dims + 1, tol,
        options);          % only need bottom (no_dims + 1) eigenvectors

Error in compute_mapping (line 202)
                        if isempty(varargin), [mappedA, mapping] = lle(A,
                        no_dims, 12, eig_impl);

Error in dimension_reduction (line 11)
  [DataM, mapping] = compute_mapping (Data, technique, dimension);

Error in sge_experiment (line 35)
      dimension_reduction (file{2}, reduction{2}, dimension{1});
}^H
^G
***** PCA-300

Matrix is singular or close to singular for reduction and out-of-sample

**** Laplacian
***** view1
{^HWarning: Colon operands must be real scalars.}^H
{^H> In verification_ml_test>PLDA_Learning_Threshold at 48
  In verification_ml_test at 26
  In accuracy at 15
  In sge_experiment at 25}^H
{^HWarning: Colon operands must be real scalars.}^H
{^H> In verification_ml_test>Verification_Test_Given_Likelihood at 86
  In verification_ml_test at 27
  In accuracy at 15
  In sge_experiment at 25}^H

***** s_view1
^HError using eigs/checkInputs (line 571)
Number of eigenvalues requested, k, must be a positive integer <= n.

Error in eigs (line 94)
[A,Amatrix,isrealprob,issymA,n,B,classAB,k,eigs_sigma,whch, ...

Error in laplacian_eigen (line 90)
        [mappedX, lambda] = eigs(L, D, no_dims + 1, tol, options);
        % only need bottom (no_dims + 1) eigenvectors

Error in compute_mapping (line 189)
            if isempty(varargin), [mappedA, mapping] = laplacian_eigen(A,
            no_dims, 12, 1, eig_impl);

Error in dimension_reduction (line 11)
  [DataM, mapping] = compute_mapping (Data, technique, dimension);

Error in sge_experiment (line 38)
      dimension_reduction (file{2}, reduction{3}, dimension{1});
}^H
^G

***** PCA-300
similar view1





**** Isomap
***** view1
^HWarning: Matrix is close to singular or badly scaled. Results may be
inaccurate. RCOND =  2.796467e-35.}^H
{^H> In out_of_sample at 58
  In dimension_reduction at 13
  In sge_experiment at 27}^H

***** s_view1
^HSubscripted assignment dimension mismatch.

Error in dimension_reduction (line 27)
    DataP(mapping.conn_comp, :) = DataM;

Error in sge_experiment (line 41)
      dimension_reduction (file{2}, reduction{4}, dimension{1});
}^H
^G

***** PCA-300
no problem

**** LDA
no problem
*** solutions
    Data is a redundant matrix as might be DataTT1 and DataTT2,
    therefore singular matrices appears as the covariance matrix of
    neighbouring points is computed.

    The solution is to construct a non redundant Data matrix, and use
    indices to symbolise similarity and dissimilarity
    pairs. extract_view1 and extract_view2 have to be rewritten.
* <2012-08-08 Wed>
** Tasks
*** DONE Experiment with LDA
    CLOSED: [2012-08-16 Thu 15:19]
    - Test different dimensionality for LDA
    - Test a pre-reduction with PCA
*** DONE Play with k
    CLOSED: [2012-08-16 Thu 15:19]
    - Test the accuracy obtained for different values of k
    - Implement an adaptative algorithm for neighbourhood finder
    - experiment with find_nn_adaptative
*** DONE PCA reduction
    CLOSED: [2012-08-16 Thu 15:19]
    - PCA pre-reduction for non-linear methods
*** DONE find explanation for results of LDA, Non-linear method
    CLOSED: [2012-08-16 Thu 15:19]
*** DONE Test algorithms on swiss-roll dataset
    CLOSED: [2012-08-16 Thu 15:19]
*** Solve dimension error
    - Find right LLE dimension reduction
    - Study automatic dimension selection from Isomap
*** DONE Eigenproblem and dimension reduction for nonlinear methods
    CLOSED: [2012-08-10 Fri 20:22]
    - can the dimension be further reduced by simply removing additional features?
    - PCA Isomap LDA and LLE can be further reduced that way
    - Laplacian_eigen seems to be non stable
*** DONE convert extract_view2
    CLOSED: [2012-08-10 Fri 18:55]
*** DONE similar "unique" modification for testing dataset
    CLOSED: [2012-08-10 Fri 18:55]
    - in order to reduce redundancy, increase time and memory performances
    - make sure that the rest of the code is not impacted
    - find a new nomenclature for the variables
      train_Data test_Data train_DD train_SS test_DD test_SS
*** understand why Laplacian_eigen is unstable
    - and whether the result of the reduction is affected
** Experiments
*** Dataset intrinsic dimensionality
    
    | method    |  CorrDim | NearNbDim | PackingNumbers |     GMST | EigValue |      MLE |
    | dimension |   4.3531 |    0.0244 |                |  19.7681 |        3 |  47.4317 |
    | time      | 285.4606 |  145.2794 |                | 215.8538 |  82.1499 | 140.8669 |

*** Influence of k

| method     | Isomap |  LLE | Laplacian |
| acccuracy  |   0.65 | 0.66 |           |
| k          |     53 |  137 |           |
| dimension  |     84 |   12 |           |
|------------+--------+------+-----------|
| adaptative |        |      |           |

    - if the adaptative method is successful, precompute the
      neighbourhood graph for each of the views or pre-reduced views
      and modify the code accordingly

*** Dimensionality parameter

    given the best k-value, trace an accuracy/dimension graph for PCA,
    LDA, Isomap, LLE, Laplacian for no_dims=1:2000?
    - trace first for PCA to find the appropriate interval

*** PCA pre-reduction

    - influence of PCA pre-reduction on k, is it modified?
    - best PCA dimension to reducte to? same for every techniques?
    - relation between best PCA dimension accuracy and best PCA
      dimension pre-reduction      
    - x

	| method        |  LDA | Isomap | LLE | Laplacian |
	| accuracy      | 0.72 |        |     |           |
	| dimension     |   47 |        |     |           |
	| PCA-reduction | 88   |        |     |           |
      
* <2012-08-18 Sat>
** TASKS
*** DONE scatter plot for best parameter extraction
    CLOSED: [2012-08-19 Sun 12:30]
*** DONE algorithm to fix parameters for each experiment
    CLOSED: [2012-08-20 Mon 15:33]
*** DONE test the adaptative k-neighbourhood graph finder (if possible)
    CLOSED: [2012-08-27 Mon 20:37]
*** DONE launch view2 for SIFT only and for selected PCA dimension
    CLOSED: [2012-08-27 Mon 20:37]
*** DONE view2 for LDA, Isomap and LLE without PCA reduction (if possible)
    CLOSED: [2012-08-27 Mon 20:37]
*** DONE what about non-SIFT image representation
    CLOSED: [2012-08-20 Mon 18:11]
*** TODO apply another algorithm (learn mahalanobis distance) after dimensionality reduction
*** DONE square root values of SIFT features
    CLOSED: [2012-08-27 Mon 20:37]

** List of experiments
 - Accuracy of PCA, Isomap, LLE, LDA on view1 with default parameters
 - Accuracy of LLE, Isomap with different values of k
 - Accuracy PCA + LDA, LLE, Isomap 
 - Accuracy on view2 with view2 best parameters
 - Accuracy on view2 with cross-validation best parameters
 - Accuracy with square root of SIFT features
 - Accuracy with adaptative k parameter

** Dataset intrinsic dimensionality
    
    | method    | CorrDim | NearNbDim | PackingNumbers |   GMST | EigValue |     MLE |
    | dimension |  4.4150 |    0.0236 |              0 | 4.9100 |        3 | 48.9705 |

** view1 k experiment

   Set the best k parameter on view1

   | method    |  Isomap |     LLE |
   |-----------+---------+---------|
   | acc       | 0.64600 | 0.66500 |
   | k         |     107 |     136 |
   | dimension |      49 |      12 |
   |-----------+---------+---------|
   | sqrt acc  | 0.64800 | 0.64900 |
   | k         |      93 |      78 |
   | dimension |      24 |       8 |



** view1 accuracy

   with k-best parameter

   | method         | SIFT-3456 |   SIFT |    PCA |    LDA | Isomap |    LLE |
   |----------------+-----------+--------+--------+--------+--------+--------|
   | accuracy       |    0.6680 | 0.6960 | 0.6910 | 0.5020 | 0.6150 | 0.6200 |
   | dimension      |      3456 |    655 |     96 |      2 |     79 |     12 |
   |----------------+-----------+--------+--------+--------+--------+--------|
   | sqrt-accuracy  |    0.6830 | 0.6940 | 0.6900 | 0.5010 | 0.6270 | 0.6230 |
   | sqrt-dimension |      3456 |    875 |     85 |      7 |     48 |      2 |

** adaptative k
   
*** does not work for LLE :

   {^HError using ones
   Leading inputs must be numeric.
   
   Error in repmat (line 84)
   B = A(ones(siz(1), 1), :);
   
   Error in out_of_sample (line 107)
   C = (repmat(point(i,:), [mapping.k 1]) - mapping.X(ind(i,
   2:mapping.k + 1),:)) * ...
   
   Error in dimension_reduction (line 19)
   test_Data = out_of_sample (test_Data, mapping);
   
   Error in pca_experiment (line 18)
   [method_train_Data, method_test_Data] = dimension_reduction(pca_train_Data,
   pca_test_Data, train_SS, train_DD, method, method_dims(2), k);
   }^H
   ^G

***   work for Isomap

      pca_Isomap-k_PCA_view1

      maximum =  0.65100
      PCA =  20
      Isomap =  17

      less than best score with selected k
** view1 pca-prereduction

   with k-best parameter and adaptative neighbourhood

   | method           |     LDA |  Isomap | Isomap-adaptative |     LLE |
   |------------------+---------+---------+-------------------+---------|
   | acc              | 0.81000 | 0.65800 |           0.65100 | 0.68100 |
   | pca              |      78 |      50 |                20 |      58 |
   | second reduction |      25 |      42 |                17 |      35 |
   |------------------+---------+---------+-------------------+---------|
   | sqrt-acc         | 0.81000 | 0.65500 |            0.6580 | 0.65400 |
   | pca              |      62 |      55 |                33 |      51 |
   | second reduction |      29 |      44 |                33 |      29 |

** view2 PCA cross-validation PCA dimension selection

 | fold     |      1 |      2 |      3 |      4 |       5 |      6 |      7 |      8 |      9 |     10 |
 |----------+--------+--------+--------+--------+---------+--------+--------+--------+--------+--------|
 | acc      | 0.6822 | 0.6848 | 0.6859 | 0.6857 |  0.6867 | 0.6815 | 0.6856 | 0.6869 | 0.6859 | 0.6889 |
 | pca      |    146 |    135 |    140 |    145 | 147/150 |    134 |    142 |    133 |    125 |    148 |
 |----------+--------+--------+--------+--------+---------+--------+--------+--------+--------+--------|
 | sqrt-acc | 0.6844 | 0.6856 | 0.6889 | 0.6878 |  0.6876 | 0.6852 | 0.6900 | 0.6881 | 0.6904 | 0.6885 |
 | pca      |    100 |    112 |    130 |    127 |      96 |    134 |    148 |    119 |    114 |    149 |


** view2 LDA with PCA-prereduction cross validation

  | fold     |       1 |       2 |       3 |       4 |       5 |       6 |       7 |       8 |       9 |      10 |
  |----------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------|
  | acc      | 0.80574 | 0.80444 | 0.80611 | 0.81074 | 0.80444 | 0.80389 | 0.80611 | 0.80481 | 0.80722 | 0.80463 |
  | pca      |      93 |     100 |      94 |      92 |      97 |      92 |      90 |      87 |      97 |      85 |
  | lda      |      11 |      19 |      16 |      11 |      21 |      17 |      16 |      21 |      17 |      15 |
  |----------+---------+---------+---------+---------+---------+---------+---------+---------+---------+---------|
  | sqrt-acc | 0.80648 | 0.80685 | 0.81093 | 0.81481 | 0.80778 | 0.80630 | 0.80519 | 0.81074 | 0.80963 | 0.80778 |
  | pca      |      86 |      81 |      74 |      90 |   92/97 |      98 |      73 |      90 |      97 |      89 |
  | lda      |      11 |      19 |      15 |      11 |       8 |      12 |      16 |      21 |      15 |      21 |
  
** view2 final result
   | method             | SIFT-3456 |    PCA | SP-LDA | Isomap |    LLE |
   |--------------------+-----------+--------+--------+--------+--------|
   | mean accuracy      |    0.6755 | 0.6837 | 0.7998 | 0.6327 | 0.6325 |
   | standard error     |    0.0058 | 0.0056 | 0.0055 | 0.0048 | 0.0061 |
   |--------------------+-----------+--------+--------+--------+--------|
   | sqrt mean accuracy |    0.6755 | 0.6815 | 0.7950 | 0.6382 | 0.6210 |
   | standard error     |    0.0058 | 0.0059 | 0.0057 | 0.0047 | 0.0048 |
   
   compute view2 mean_accuracy for SIFT 3456 and best PCA dimension with and without cross-validation parameter selection


** LDA

   Sb and Sw are ill-conditioned : condition ~ 4.2314e+20 for SIFT-3456
                                   condition ~ 35.8514    for PCA-78
   
   see http://www.mathworks.com/matlabcentral/newsreader/view_thread/235450
       http://www.mathworks.com/matlabcentral/newsreader/view_thread/234835

* <2012-08-29 Wed>

** tasks
*** time complexity chart for view1
*** k/accuracy/%ofpoints graph
*** LLE roc diagram fix

** time experiment

   | method        | SIFT-3456 |   PCA-3456 | PCA-96 |       LDA-2 |   Isomap-79 |      LLE-12 | LDA-78/25 | Isomap-50/42 | LLE-58/35 | Isomap-adaptative-20/17 |
   |---------------+-----------+------------+--------+-------------+-------------+-------------+-----------+--------------+-----------+-------------------------|
   | time          |           | 403.690831 |        | 6792.695376 | 1607.231163 | 1630.722747 |           | 356.005313   |           |                         |
   | accuracy      |           |            |        |             |             |             |           |              |           |                         |
   | accuracy/time |           |            |        |             |             |             |           |              |           |                         |
